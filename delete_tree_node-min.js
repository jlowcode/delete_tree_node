define(["jquery","fab/list-plugin"],function(e,t){return new Class({Extends:t,initialize:function(t){this.parent(t),e("#list_"+this.options.ref+" .delete").remove()},getSelectedIds:function(){var e=[];return document.getElements("input[name^=ids]").each(function(t){t.checked&&e.push(t.value)}),e},doAjax:function(t){e.ajax({url:"delete_tree_node.php",method:"POST",data:{option:"com_fabrik",format:"raw",task:"plugin.pluginAjax",plugin:"delete_tree_node",method:"delete",g:"list",selectedIds:t,table_name:this.options.table_name,db_join_column:this.options.db_join_column,listid:this.options.listid,option_delete:this.options.option_delete},dataType:"json"}).done(function(e){location.reload()}.bind(this))},buttonAction:function(){var e=this.getSelectedIds();confirm("Tem certeza que deseja apagar "+e.length+" registro(s)?")&&this.doAjax(e)}})});